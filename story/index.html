<!doctype html>
<html lang="ja">
<head>
<link rel="icon" href="/favicon.png">
<link rel="icon" href="/images/favicon.png" type="image/png">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Story | Kusou-Aristotle</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;}
body{
margin:0;
font-family:"Shippori Mincho",serif;
background:#0b0b0f;
color:#fff;
}

/* ===== header ===== */
.header{
position:sticky;
top:0;
z-index:60;
display:flex;
justify-content:space-between;
align-items:center;
padding:12px 16px;
background:rgba(0,0,0,.35);
backdrop-filter:blur(8px);
border-bottom:1px solid rgba(255,255,255,.08);
}
.site-title{color:#fff;text-decoration:none;}
.menu-btn{font-size:22px;background:none;border:none;color:#fff;}

/* ===== story UI ===== */
.box{max-width:920px;margin:auto;padding:20px 16px 40px;text-align:center;}

h1{font-size:40px;margin:30px 0 10px;}

.switch{
display:flex;
margin:20px auto;
width:160px;
border-radius:30px;
overflow:hidden;
background:#1aa5a5;
}
.switch button{
flex:1;
border:none;
padding:10px;
background:none;
color:white;
font-size:18px;
cursor:pointer;
}
.switch .active{background:#0f6f6f;}

.visual{
width:80%;
max-width:420px;
margin:20px auto;
border:1px solid rgba(255,255,255,.3);
}
.visual img{width:100%;}

.summary{
width:80%;
max-width:420px;
margin:20px auto;
line-height:1.9;
opacity:.9;
}

.readBtn{
background:#1aa5a5;
border:none;
padding:14px 30px;
color:white;
font-size:18px;
cursor:pointer;
margin:20px;
}

/* ===== chapter page ===== */
.chapterPage{display:none;}

.chapterRow{
display:flex;
justify-content:space-between;
width:80%;
max-width:400px;
margin:16px auto;
font-size:22px;
opacity:0;
transform:translateX(-40px);
animation:slideFade .7s forwards;
}
.chapterRow:nth-child(1){animation-delay:.1s}
.chapterRow:nth-child(2){animation-delay:.2s}
.chapterRow:nth-child(3){animation-delay:.3s}
.chapterRow:nth-child(4){animation-delay:.4s}
.chapterRow:nth-child(5){animation-delay:.5s}
.chapterRow:nth-child(6){animation-delay:.6s}
.chapterRow:nth-child(7){animation-delay:.7s}

@keyframes slideFade{
to{opacity:1;transform:translateX(0);}
}

.chapterRow button{
background:none;
border:none;
color:white;
font-size:22px;
cursor:pointer;
}

/* ===== menu ===== */
.overlay{
position:fixed;inset:0;
background:rgba(0,0,0,.55);
opacity:0;
pointer-events:none;
transition:.25s;
z-index:1000;
}
.overlay.open{opacity:1;pointer-events:auto;}

.menu{
position:fixed;
top:0;right:0;
width:340px;
max-width:78vw;
height:100vh;
background:rgba(0,0,0,.86);
padding:18px;
transform:translateX(100%);
transition:.25s;
z-index:1001;
}
.menu.open{transform:translateX(0);}
.menu a{display:block;padding:14px 6px;color:white;text-decoration:none;}

.menu-top{
display:flex;
justify-content:space-between;
border-bottom:1px solid rgba(255,255,255,.14);
padding-bottom:10px;
}

/* ===== footer ===== */
.footer{
padding:44px 16px 56px;
text-align:center;
background:rgba(0,0,0,.35);
border-top:1px solid rgba(255,255,255,.1);
}
.footer-logo{width:min(64vw,260px);}
</style>
</head>

<body>

<header class="header">
<a href="/" class="site-title">空想世界アリストテレス</a>
<button class="menu-btn" id="menuBtn">☰</button>
</header>

<div class="box">

<h1>Story</h1>

<div class="switch">
<button id="s1Btn" class="active">S1</button>
<button id="s2Btn">S2</button>
</div>

<div class="visual">
<img id="storyImg" src="/images/story/s1.webp">
</div>

<div id="summary" class="summary"></div>

<button class="readBtn" onclick="openChapters()">本編を読む</button>

<div id="chapters" class="chapterPage">
<h1 id="seasonTitle">1期</h1>
<div id="chapterList"></div>
</div>

</div>

<div id="overlay" class="overlay"></div>

<nav id="menu" class="menu">
<div class="menu-top">
<div>MENU</div>
<button id="closeBtn">✕</button>
</div>
<a href="/">Home</a>
<a href="/character/">Character</a>
<a href="/story/">Story</a>
<a href="/guide/">Guide</a>
</nav>

<footer class="footer">
<img class="footer-logo" src="/images/logo.png">
<div>© 空想世界アリストテレス</div>
</footer>

<script>
const summaries={
s1:`不幸体質の少女、琴吹翠は心の中の苦しさから解放されたいと思い、10月23日の誕生日の日、川に身を投げこもうとした。その時、天使と名乗る謎の青年と出会う。「もし、心の中の苦しさが消えて人生が一変して幸せになれるって聞いたら、生きる？」と聞かれる。「生きたい」と答えた翠は、天使におまじないをかけられると同時に、心の中の苦しさが消えて、身体が軽くなる。「その代わり、代償は存在するよ。」と言うと天使は去り、翠は何が代償か分からず家へ帰っていく。帰宅すると、何やら2階から物音が聞こえて…！？`,
s2:`「5年後、またここで。」と誓った一同。そこから5年後、2029年。あきはが空想世界へ帰ってくると、神様からひとつの提案をされる。「あきはも神様にならないか」という提案に、あきはは皆との約束の為断る。それに不服の神様は、何やら一つの作戦を思いついたようで…。あきはが翠の家へ5年ぶりに訪れるとかなり廃れていた。無人の家にひとつ置かれている埃っぽい置き手紙には、「翠を助けてくれ」と書かれた文字と病院の住所が書かれていて…？`
};

const chaptersS1=["分裂","運命","逃避行","傷跡","将来","殺戮","空想世界"];
const chaptersS2=["病状","福音","申告","崩壊","狂会","美学","アリストテレス"];

let season="s1";

const summaryEl=document.getElementById("summary");
const img=document.getElementById("storyImg");

function update(){
summaryEl.textContent=summaries[season];
img.src=`/images/story/${season}.webp`;
}
update();

s1Btn.onclick=()=>{
season="s1";
s1Btn.classList.add("active");
s2Btn.classList.remove("active");
update();
};
s2Btn.onclick=()=>{
season="s2";
s2Btn.classList.add("active");
s1Btn.classList.remove("active");
update();
};

function openChapters(){
document.querySelector(".visual").style.display="none";
summaryEl.style.display="none";
document.querySelector(".readBtn").style.display="none";
document.querySelector(".switch").style.display="none";

const list=document.getElementById("chapterList");
list.innerHTML="";
const arr=(season==="s1")?chaptersS1:chaptersS2;

arr.forEach((c,i)=>{
const row=document.createElement("div");
row.className="chapterRow";
row.innerHTML=`<span>${i+1} ${c}</span><button>読む</button>`;
list.appendChild(row);
});

document.getElementById("chapters").style.display="block";
document.getElementById("seasonTitle").textContent=(season==="s1")?"1期":"2期";
}

/* ===== menu ===== */
const menu=document.getElementById("menu");
const overlay=document.getElementById("overlay");
menuBtn.onclick=()=>{menu.classList.add("open");overlay.classList.add("open");};
closeBtn.onclick=overlay.onclick=()=>{menu.classList.remove("open");overlay.classList.remove("open");};
</script>

</body>
</html>
