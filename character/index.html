<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Character | 空想世界アリストテレス</title>
<link rel="icon" href="/favicon.png">

<style>
@font-face{
  font-family:"Kazuki Reiwa";
  src:url("/fonts/KazukiReiwa-Light.ttf") format("truetype");
  font-weight:300;
  font-display:swap;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family:"Kazuki Reiwa",serif;
  background:#0b0b0f;
  color:#fff;
  overflow-x:hidden;
}

/* ===== HEADER ===== */
.header{
  position:sticky;top:0;z-index:50;
  display:flex;justify-content:space-between;align-items:center;
  padding:12px 16px;
  background:rgba(0,0,0,.45);
  backdrop-filter:blur(8px);
}
.site-title{color:#fff;text-decoration:none;letter-spacing:.08em}
.menu-btn{font-size:22px;background:none;border:none;color:#fff}

/* ===== LIST ===== */
.container{
  max-width:1100px;
  margin:0 auto;
  padding:56px 16px 80px;
  text-align:center;
}
.title-ruby{font-size:13px;letter-spacing:.35em;opacity:.55}
.page-title{font-size:40px;letter-spacing:.16em;font-weight:300}

.grid{
  margin-top:40px;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
}
@media(min-width:700px){
  .grid{grid-template-columns:repeat(4,1fr)}
}
.card{
  position:relative;
  aspect-ratio:3/2;
  overflow:hidden;
  cursor:pointer;
}
.card img{width:100%;height:100%;object-fit:cover}
.num{
  position:absolute;right:10px;bottom:6px;
  font-size:28px;opacity:.85;
}

/* ===== PROFILE PAGE ===== */
.hidden{display:none}

.profilePage{
  max-width:1100px;
  margin:0 auto;
  padding:0 0 80px;
  --accent:#4fbfc2;
}

/* ===== HERO ===== */
.heroStage{
  position:relative;
}
.heroStage img{
  width:100%;
  display:block;
}

/* グラデーション（下ギリギリ） */
.heroFade{
  position:absolute;
  left:0;right:0;bottom:0;
  height:22%;
  background:linear-gradient(
    to bottom,
    rgba(11,11,15,0) 0%,
    rgba(11,11,15,.35) 55%,
    rgba(11,11,15,.75) 82%,
    rgba(11,11,15,1) 100%
  );
  pointer-events:none;
}

/* S2 */
.heroTools{
  position:absolute;top:12px;right:12px;z-index:3;
}
.s2btn{
  width:60px;height:60px;
  border-radius:999px;
  border:none;
  background:var(--accent);
  font-family:inherit;
  font-size:14px;
  letter-spacing:.14em;
  cursor:pointer;
}

/* ===== INFO ===== */
.profileInfo{
  padding:8px 16px 0;
  text-align:left;
}
.nameImg{
  width:min(360px,86vw);
  display:block;
  filter:drop-shadow(0 12px 34px rgba(0,0,0,.45));
}
.accentRule{
  margin-top:10px;
  height:1px;
  background:rgba(255,255,255,.1);
  position:relative;
}
.accentRule::after{
  content:"";
  position:absolute;inset:0;
  background:linear-gradient(
    90deg,
    color-mix(in srgb,var(--accent) 80%,transparent),
    transparent 70%
  );
}
.desc{
  margin-top:12px;
  line-height:1.9;
  font-size:14px;
  color:color-mix(in srgb,var(--accent) 90%,white 10%);
}
.meta{
  margin-top:8px;
  font-size:12px;
  opacity:.75;
}

/* ===== NAV ===== */
.navRow{
  margin-top:12px;
  display:flex;
  align-items:center;
  gap:10px;
}
.navBtn{
  width:44px;height:44px;
  border-radius:999px;
  border:none;
  background:rgba(255,255,255,.06);
  color:color-mix(in srgb,var(--accent) 88%,white 12%);
}
.backBtn{
  flex:1;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:.18em;
  padding:14px 18px;
  border-radius:999px;
  border:none;
  background:rgba(255,255,255,.05);
  color:color-mix(in srgb,var(--accent) 92%,white 8%);
  font-size:15px;
}
.backBtn .arrow{font-size:16px}

/* ===== PASSWORD ===== */
.lockOverlay{
  position:fixed;inset:0;
  background:rgba(0,0,0,.75);
  display:none;
}
.lockOverlay.open{display:block}
.lockBox{
  position:fixed;inset:0;
  display:grid;place-items:center;
  pointer-events:none;
}
.lockCard{
  background:#0b0b0f;
  padding:20px;
  border-radius:14px;
}

/* ===== FOOTER ===== */
footer{
  padding:40px 16px;
  text-align:center;
  opacity:.6;
}
</style>
</head>

<body>

<header class="header">
  <a href="/" class="site-title">空想世界アリストテレス</a>
  <button class="menu-btn">☰</button>
</header>

<!-- LIST -->
<main class="container" id="list">
  <div class="title-ruby">character</div>
  <h1 class="page-title">空想世界 名簿記録</h1>
  <div id="grid" class="grid"></div>
</main>

<!-- PROFILE -->
<section class="profilePage hidden" id="profile">
  <div class="heroStage" id="heroStage">
    <div class="heroTools">
      <button class="s2btn" id="btnS2">S2</button>
    </div>
    <img id="heroImg" src="">
    <div class="heroFade"></div>
  </div>

  <div class="profileInfo">
    <img id="nameImg" class="nameImg" src="">
    <div class="accentRule"></div>

    <div class="desc" id="descText"></div>
    <div class="meta" id="metaText"></div>

    <div class="navRow">
      <button class="navBtn" id="prevBtn">&lt;</button>

      <button class="backBtn" id="backBtn">
        <span class="arrow">&lt;</span>
        <span>Back to list</span>
        <span class="arrow">&gt;</span>
      </button>

      <button class="navBtn" id="nextBtn">&gt;</button>
    </div>
  </div>
</section>

<footer>© 空想世界アリストテレス</footer>

<script>
const grid=document.getElementById("grid");
const list=document.getElementById("list");
const profile=document.getElementById("profile");

const heroImg=document.getElementById("heroImg");
const nameImg=document.getElementById("nameImg");
const descText=document.getElementById("descText");
const metaText=document.getElementById("metaText");
const btnS2=document.getElementById("btnS2");

const backBtn=document.getElementById("backBtn");
const prevBtn=document.getElementById("prevBtn");
const nextBtn=document.getElementById("nextBtn");

const accents=["#4fbfc2","#c24f4f","#e0a038","#80a87d","#7d92a8","#941c34",
"#50e65d","#05079c","#6cbecc","#e83a83","#499151","#e0e0e0","#ae76db","#c9a824"];

const heroS1=Array.from({length:14},(_,i)=>`/images/profile/hero/${String(i+1).padStart(2,"0")}_s1.png`);
const heroS2=Array.from({length:14},(_,i)=>`/images/profile/hero/${String(i+1).padStart(2,"0")}_s2.png`);
const nameImgs=Array.from({length:14},(_,i)=>`/images/profile/name/${String(i+1).padStart(2,"0")}.png`);

let idx=0,season="s1";

function render(){
  grid.innerHTML=heroS1.map((_,i)=>`
    <div class="card" data-i="${i}">
      <img src="/images/character/main${String(i+1).padStart(2,"0")}.png">
      <div class="num">${String(i+1).padStart(2,"0")}</div>
    </div>`).join("");
}
render();

grid.onclick=e=>{
  const c=e.target.closest(".card");
  if(!c)return;
  idx=+c.dataset.i;
  openProfile();
};

function openProfile(){
  list.classList.add("hidden");
  profile.classList.remove("hidden");
  load();
  window.scrollTo(0,0);
}
function closeProfile(){
  profile.classList.add("hidden");
  list.classList.remove("hidden");
  window.scrollTo(0,0);
}

function load(){
  profile.style.setProperty("--accent",accents[idx]);
  heroImg.src=season==="s1"?heroS1[idx]:heroS2[idx];
  nameImg.src=nameImgs[idx];
  descText.textContent=`説明文（${String(idx+1).padStart(2,"0")}）`;
  metaText.textContent=`補足欄（${String(idx+1).padStart(2,"0")}）`;
}

btnS2.onclick=()=>{
  season=season==="s1"?"s2":"s1";
  load();
};
backBtn.onclick=closeProfile;
prevBtn.onclick=()=>{if(idx>0){idx--;season="s1";load()}};
nextBtn.onclick=()=>{if(idx<13){idx++;season="s1";load()}};
</script>

</body>
</html>
