<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Character | 空想世界アリストテレス</title>

<style>
@font-face{
  font-family:"Kazuki Reiwa";
  src:url("/fonts/KazukiReiwa-Light.ttf") format("truetype");
  font-weight:300;
}

*{box-sizing:border-box;}
html,body{margin:0;padding:0;}
body{
  font-family:"Kazuki Reiwa",serif;
  background:#0b0b0f;
  color:#fff;
}

/* ===== 共通 ===== */
.hidden{display:none;}
main{min-height:100vh;}

/* ===== 一覧 ===== */
#list{
  max-width:1100px;
  margin:0 auto;
  padding:60px 16px 80px;
}
.grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
}
@media(min-width:700px){
  .grid{grid-template-columns:repeat(4,1fr);}
}
.card{
  aspect-ratio:3/2;
  cursor:pointer;
  border:1px solid rgba(255,255,255,.2);
}
.card img{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* ===== 詳細 ===== */
#profile{
  min-height:100vh;
}

/* 上：立ち絵 */
.hero{
  position:relative;
}
.hero img{
  width:100%;
  height:auto;
  display:block;
}

/* 下グラデ */
.hero::after{
  content:"";
  position:absolute;
  left:0;right:0;bottom:0;
  height:40%;
  background:linear-gradient(
    to bottom,
    transparent,
    rgba(0,0,0,.7),
    #000
  );
}

/* S2ボタン */
.s2btn{
  position:absolute;
  top:16px;
  right:16px;
  width:60px;
  height:60px;
  border-radius:50%;
  border:none;
  background:var(--accent);
  color:#000;
  font-size:14px;
  cursor:pointer;
}

/* 情報エリア */
.profile-info{
  padding:24px 16px 60px;
  max-width:820px;
  margin:0 auto;
}

/* 名前画像 */
.nameImg{
  width:min(360px,90vw);
  margin-bottom:12px;
}

/* 線 */
.line{
  height:1px;
  background:linear-gradient(
    90deg,
    var(--accent),
    transparent
  );
  margin:12px 0 16px;
}

/* 説明 */
.desc{
  line-height:1.9;
  color:var(--accent);
}

/* ナビ */
.nav{
  margin-top:32px;
  display:flex;
  justify-content:center;
}
.back{
  cursor:pointer;
  font-size:16px;
}
.back span{
  margin:0 .1em;
}
</style>
</head>

<body>

<main>

<!-- ===== 一覧 ===== -->
<section id="list">
  <div class="grid" id="grid"></div>
</section>

<!-- ===== 詳細 ===== -->
<section id="profile" class="hidden">
  <div class="hero">
    <button class="s2btn" id="s2Btn">S2</button>
    <img id="heroImg" src="" alt="">
  </div>

  <div class="profile-info">
    <img id="nameImg" class="nameImg" src="" alt="">
    <div class="line"></div>
    <div class="desc" id="desc"></div>

    <div class="nav">
      <div class="back" id="backBtn">
        <span>&lt;</span>Back to list<span>&gt;</span>
      </div>
    </div>
  </div>
</section>

</main>

<script>
const grid = document.getElementById("grid");
const list = document.getElementById("list");
const profile = document.getElementById("profile");

const heroImg = document.getElementById("heroImg");
const nameImg = document.getElementById("nameImg");
const desc = document.getElementById("desc");
const backBtn = document.getElementById("backBtn");
const s2Btn = document.getElementById("s2Btn");

let current = 0;
let season = "s1";

/* ===== データ ===== */
const accents=[
"#4fbfc2","#c24f4f","#e0a038","#80a87d","#7d92a8","#941c34",
"#50e65d","#05079c","#6cbecc","#e83a83","#499151","#e0e0e0",
"#ae76db","#c9a824"
];

const heroS1=i=>`/images/profile/hero/${String(i+1).padStart(2,"0")}_s1.png`;
const heroS2=i=>`/images/profile/hero/${String(i+1).padStart(2,"0")}_s2.png`;
const nameSrc=i=>`/images/profile/name/${String(i+1).padStart(2,"0")}.png`;

const descs=Array.from({length:14},(_,i)=>`説明文 ${i+1}`);

/* ===== 一覧生成 ===== */
Array.from({length:14},(_,i)=>{
  const d=document.createElement("div");
  d.className="card";
  d.innerHTML=`<img src="/images/character/main${String(i+1).padStart(2,"0")}.png">`;
  d.onclick=()=>openProfile(i);
  grid.appendChild(d);
});

/* ===== 表示切替 ===== */
function openProfile(i){
  current=i;
  season="s1";
  document.documentElement.style.setProperty("--accent",accents[i]);
  heroImg.src=heroS1(i);
  nameImg.src=nameSrc(i);
  desc.textContent=descs[i];

  list.classList.add("hidden");
  profile.classList.remove("hidden");
  window.scrollTo(0,0);
}

backBtn.onclick=()=>{
  profile.classList.add("hidden");
  list.classList.remove("hidden");
};

s2Btn.onclick=()=>{
  season = season==="s1"?"s2":"s1";
  heroImg.src = season==="s1"?heroS1(current):heroS2(current);
};
</script>

</body>
</html>
