<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>空想世界アリストテレス神殿案内板</title>

  <link rel="icon" href="/favicon.png">
  <link rel="icon" href="/images/favicon.png" type="image/png">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    *{ box-sizing:border-box; }
    html,body{ margin:0; padding:0; width:100%; }
    body{
      font-family:"Shippori Mincho","Yu Mincho","MS Mincho",serif;
      background:#000;
      color:#fff;
      overflow-x:hidden;
    }

    /* ===== splash ===== */
    .splash{
      position:fixed;
      inset:0;
      background:#f5f7fb;
      display:grid;
      place-items:center;
      z-index:9999;
      transition:opacity .7s ease;
    }
    .splash.hide{ opacity:0; }

    .splash-inner{
      opacity:0;
      transform:scale(1.08);
      transition:.7s ease;
    }
    .splash.show .splash-inner{
      opacity:1;
      transform:scale(1);
    }

    /* ===== hero ===== */
    .hero{
      position:relative;
      height:100vh;
      overflow:hidden;
      background:#0b0b0f;
      isolation:isolate;
    }

    .hero-bg{
      position:absolute;
      inset:0;
      background:url("/images/home/sora.png") center/cover no-repeat;
      z-index:1;
    }

    .hero-torii{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      z-index:2;
      transform:scale(.86);
      opacity:0;
      filter:blur(1px);
      transition:transform .9s ease, opacity .9s ease, filter .9s ease;
    }

    .hero-chara{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      z-index:3;
      transform:translateY(60px);
      opacity:0;
      transition:transform .9s ease, opacity .9s ease;
    }

    .hero.play .hero-torii{
      transform:scale(1);
      opacity:1;
      filter:blur(0);
    }
    .hero.play .hero-chara{
      transform:translateY(0);
      opacity:1;
    }

    /* ===== 黒背景セクション ===== */
    .black{
      min-height:100vh;
      background:#000;
      display:grid;
      place-items:center;
      padding:40px 16px;
    }

    .welcome-img{
      width:min(720px,90vw);
      height:auto;
    }

    .noise-img{
      width:min(1000px,92vw);
      height:auto;
      opacity:.95;
    }

    /* ===== header/menu ===== */
    .header{
      position:fixed;
      top:0; right:0;
      z-index:60;
      padding:12px 16px;
    }
    .menu-btn{
      font-size:22px;
      background:none;
      border:none;
      color:#fff;
      cursor:pointer;
    }

    .overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.55);
      opacity:0;
      pointer-events:none;
      transition:.25s;
      z-index:1000;
    }
    .overlay.open{ opacity:1; pointer-events:auto; }

    .menu{
      position:fixed;
      top:0; right:0;
      width:340px;
      height:100vh;
      background:rgba(0,0,0,.86);
      backdrop-filter:blur(10px);
      transform:translateX(100%);
      transition:.25s;
      z-index:1001;
      padding:18px;
    }
    .menu.open{ transform:translateX(0); }

    .menu a{
      display:block;
      padding:14px 6px;
      color:#fff;
      text-decoration:none;
      border-bottom:1px solid rgba(255,255,255,.1);
    }

    /* ===== BGM ===== */
    .bgm-btn{
      position:fixed;
      right:14px;
      bottom:14px;
      z-index:1200;
      padding:10px 14px;
      border-radius:999px;
      background:rgba(20,20,20,.7);
      border:1px solid rgba(255,255,255,.2);
      color:#fff;
      cursor:pointer;
      display:flex;
      gap:8px;
      align-items:center;
    }
    .bgm-dot{
      width:10px;
      height:10px;
      border-radius:50%;
      background:#777;
    }
    .bgm-btn.on .bgm-dot{ background:#7fda9b; }

    /* ===== footer ===== */
    .footer{
      background:rgba(0,0,0,.35);
      text-align:center;
      padding:56px 16px;
      border-top:1px solid rgba(255,255,255,.1);
    }
    .footer-logo{
      width:min(260px,70vw);
      margin-bottom:20px;
    }
    .footer-note{
      font-size:12px;
      opacity:.6;
    }
  </style>
</head>

<body>

<!-- hero -->
<section class="hero" id="hero">
  <div class="hero-bg"></div>
  <img src="/images/home/torii.png" class="hero-torii" alt="">
  <img src="/images/home/tatie.png" class="hero-chara" alt="">
</section>

<!-- splash -->
<div id="splash" class="splash">
  <div class="splash-inner">
    <img src="/images/logo.png" alt="">
  </div>
</div>

<!-- welcome -->
<section class="black">
  <img src="/images/home/welcome.png" class="welcome-img" alt="">
</section>

<!-- noise -->
<section class="black">
  <img src="/images/home/noise-text.png" class="noise-img" alt="">
</section>

<!-- footer -->
<footer class="footer">
  <img src="/images/logo.png" class="footer-logo" alt="">
  <div class="footer-note">© 空想世界アリストテレス</div>
</footer>

<!-- BGM -->
<audio id="bgm" loop>
  <source src="/audio/bgm.mp3" type="audio/mpeg">
</audio>
<button class="bgm-btn" id="bgmBtn">
  <span class="bgm-dot"></span>
  <small id="bgmLabel">BGM OFF</small>
</button>

<script>
/* splash → hero（reflow） */
window.addEventListener("load",()=>{
  const hero=document.getElementById("hero");
  const splash=document.getElementById("splash");

  hero.classList.remove("play");
  void hero.offsetWidth;

  requestAnimationFrame(()=>hero.classList.add("play"));

  if(splash){
    splash.classList.add("show");
    setTimeout(()=>{
      splash.classList.add("hide");
      setTimeout(()=>splash.remove(),700);
    },1200);
  }
});

/* BGM */
const bgm=document.getElementById("bgm");
const btn=document.getElementById("bgmBtn");
const label=document.getElementById("bgmLabel");
bgm.volume=.35;

btn.onclick=async()=>{
  if(bgm.paused){
    await bgm.play();
    btn.classList.add("on");
    label.textContent="BGM ON";
  }else{
    bgm.pause();
    btn.classList.remove("on");
    label.textContent="BGM OFF";
  }
};
</script>

</body>
</html>
