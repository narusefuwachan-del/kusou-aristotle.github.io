<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>空想世界アリストテレス神殿案内板</title>

  <link rel="icon" href="/favicon.png">
  <link rel="icon" href="/images/favicon.png" type="image/png">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    *{ box-sizing:border-box; }
    html,body{ margin:0; padding:0; width:100%; height:100%; }
    body{
      font-family:"Shippori Mincho","Hiragino Mincho ProN","Yu Mincho","MS Mincho",serif;
      line-height:1.8;
      color:#fff;
      background:#000;
      overflow-x:hidden;
    }

    /* ===== splash ===== */
    .splash{
      position:fixed;
      inset:0;
      background:#f5f7fb;
      display:grid;
      place-items:center;
      z-index:9999;
      opacity:1;
      transition:opacity 700ms ease;
    }
    .splash.hide{ opacity:0; }

    .splash-inner{
      opacity:0;
      transform:scale(1.08);
      transition:opacity 700ms ease, transform 700ms ease;
    }
    .splash.show .splash-inner{
      opacity:1;
      transform:scale(1);
    }
    .splash.hide .splash-inner{
      opacity:0;
      transform:scale(0.82);
    }
    .splash-inner img{
      width:min(90vw,520px);
      display:block;
    }

    /* ===== hero ===== */
    .hero{
  position: relative;
  z-index: 2;
  height: 100vh;          
  overflow: hidden;
  background: #0b0b0f;
}
    

    .hero-bg{
      position:absolute;
      inset:0;
      background:url("/images/home/sora.png") center/cover no-repeat;
      z-index:1;
    }

    .hero-torii{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      z-index:2;
      transform:scale(0.86);
      opacity:0;
      filter:blur(1px);
      transition:all 900ms cubic-bezier(.2,.9,.2,1);
      transition-delay:120ms;
    }

    .hero-chara{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      z-index:3;
      transform:translateY(60px);
      opacity:0;
      transition:all 900ms cubic-bezier(.2,.9,.2,1);
      transition-delay:520ms;
    }

    .hero.play .hero-torii{
      transform:scale(1);
      opacity:1;
      filter:blur(0);
    }
    .hero.play .hero-chara{
      transform:translateY(0);
      opacity:1;
    }

    /* ===== header ===== */
    .header{
      position:fixed;
      top:0; left:0; right:0;
      z-index:60;
      display:flex;
      justify-content:flex-end;
      padding:12px 16px;
    }
    .menu-btn{
      font-size:22px;
      background:none;
      border:none;
      color:#fff;
      cursor:pointer;
    }

    /* ===== menu ===== */
    .overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.55);
      opacity:0;
      pointer-events:none;
      transition:.25s;
      z-index:1000;
    }
    .overlay.open{ opacity:1; pointer-events:auto; }

    .menu{
      position:fixed;
      top:0; right:0;
      width:340px;
      max-width:78vw;
      height:100vh;
      background:rgba(0,0,0,.86);
      backdrop-filter:blur(10px);
      padding:18px 16px;
      transform:translateX(100%);
      transition:.25s;
      z-index:1001;
    }
    .menu.open{ transform:translateX(0); }

    .menu-top{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:12px;
    }
    .close-btn{
      font-size:20px;
      background:none;
      border:none;
      color:#fff;
      cursor:pointer;
    }
    .menu a{
      display:block;
      padding:14px 6px;
      color:#fff;
      font-weight:700;
      text-decoration:none;
      border-bottom:1px solid rgba(255,255,255,.1);
    }

    /* ===== BGM ===== */
    .bgm-btn{
      position:fixed;
      right:14px;
      bottom:14px;
      z-index:1200;
      display:flex;
      gap:8px;
      align-items:center;
      padding:10px 12px;
      border-radius:999px;
      background:rgba(20,20,20,.72);
      color:#fff;
      border:1px solid rgba(255,255,255,.2);
      cursor:pointer;
    }
    .bgm-dot{
      width:10px;
      height:10px;
      border-radius:50%;
      background:rgba(255,255,255,.35);
    }
    .bgm-btn.on .bgm-dot{
      background:rgba(120,255,180,.95);
    }
    /* ===== footer ===== */
.footer{
  position: relative;
  z-index: 5; /* heroより上に出す */
  padding: 44px 16px 56px;
  text-align: center;
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border-top: 1px solid rgba(255,255,255,.10);
}

.footer-inner{
  max-width: 960px;
  margin: 0 auto;
}

.footer-logo{
  width: min(64vw, 260px);
  height: auto;
  display: block;
  margin: 0 auto 18px;
  opacity: .92;
  filter: drop-shadow(0 8px 28px rgba(0,0,0,.45));
}

.footer-title{
  margin: 0 0 10px;
  font-weight: 800;
  letter-spacing: .08em;
  font-size: 13px;
  color: rgba(255,255,255,.78);
}

/* SNS icons */
.footer-sns{
  display: flex;
  justify-content: center;
  gap: 16px;
  flex-wrap: wrap;
  margin: 12px 0 6px;
}

.sns-btn{
  width: 44px;
  height: 44px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.06);
  color: #fff;
  text-decoration: none;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.sns-btn:active{ transform: scale(.98); }
.sns-btn:hover{
  background: rgba(255,255,255,.10);
  border-color: rgba(255,255,255,.28);
}
.sns-btn svg{ width: 22px; height: 22px; display:block; opacity:.92; }

/* SHARE */
.share{
  margin: 10px 0 18px;
  display: grid;
  gap: 10px;
  justify-items: center;
}

.share-row{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;
}

.share-btn{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.06);
  color: #fff;
  text-decoration: none;
  font-weight: 800;
  letter-spacing: .04em;
  font-size: 13px;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.share-btn:active{ transform: scale(.98); }
.share-btn:hover{
  background: rgba(255,255,255,.10);
  border-color: rgba(255,255,255,.28);
}
.share-btn svg{ width: 18px; height: 18px; opacity:.92; }

.footer-note{
  margin-top: 18px;
  font-size: 12px;
  color: rgba(255,255,255,.60);
  letter-spacing: .03em;
}
  </style>
</head>

<body>

  <section class="hero" id="hero">
    <div class="hero-bg"></div>
    <img src="/images/home/torii.png" class="hero-torii" alt="">
    <img src="/images/home/tatie.png" class="hero-chara" alt="">
  </section>

  <div id="splash" class="splash">
    <div class="splash-inner">
      <img src="/images/logo.png" alt="空想世界アリストテレス">
    </div>
  </div>

  <header class="header">
    <button class="menu-btn" id="menuBtn">☰</button>
  </header>

  <div id="overlay" class="overlay"></div>

  <nav id="menu" class="menu">
    <div class="menu-top">
      <strong>MENU</strong>
      <button class="close-btn" id="closeBtn">✕</button>
    </div>
    <a href="/">Home</a>
    <a href="/character/">Character</a>
    <a href="/story/">Story</a>
    <a href="/guide/">Guide</a>
  </nav>

  <audio id="bgm" loop>
    <source src="/audio/bgm.mp3" type="audio/mpeg">
  </audio>

  <button class="bgm-btn" id="bgmBtn">
    <span class="bgm-dot"></span>
    <small id="bgmLabel">BGM OFF</small>
  </button>

  <script>
    // menu
    const menu = document.getElementById("menu");
    const overlay = document.getElementById("overlay");
    document.getElementById("menuBtn").onclick = () => {
      menu.classList.add("open");
      overlay.classList.add("open");
    };
    document.getElementById("closeBtn").onclick = () => {
      menu.classList.remove("open");
      overlay.classList.remove("open");
    };
    overlay.onclick = () => {
      menu.classList.remove("open");
      overlay.classList.remove("open");
    };

    // BGM
    const bgm = document.getElementById("bgm");
    const bgmBtn = document.getElementById("bgmBtn");
    const bgmLabel = document.getElementById("bgmLabel");
    bgm.volume = 0.35;

    bgmBtn.onclick = async () => {
      if(bgm.paused){
        await bgm.play();
        bgmBtn.classList.add("on");
        bgmLabel.textContent = "BGM ON";
      }else{
        bgm.pause();
        bgmBtn.classList.remove("on");
        bgmLabel.textContent = "BGM OFF";
      }
    };

    // splash → hero
    window.addEventListener("load", async () => {
      const splash = document.getElementById("splash");
      const hero = document.getElementById("hero");
      const imgs = document.querySelectorAll(".hero img");

      await Promise.all([...imgs].map(img =>
        img.decode ? img.decode().catch(()=>{}) :
        new Promise(r => img.complete ? r() : img.onload = r)
      ));

      requestAnimationFrame(()=> splash.classList.add("show"));

      setTimeout(()=>{
        hero.classList.add("play");
        splash.classList.add("hide");
        setTimeout(()=> splash.remove(), 700);
      },1200);
    });
  </script>

</body>
</html>
